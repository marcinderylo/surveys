<?xml version="1.0" encoding="utf-8"?>
<mx:VBox xmlns:mx="http://www.adobe.com/2006/mxml" xmlns:components="org.adaptiveplatform.surveys.components.*"
         height="100%" width="100%"
         verticalScrollPolicy="off" horizontalScrollPolicy="off">
    <mx:Script>
		<![CDATA[
        import org.adaptiveplatform.surveys.dto.generated.SurveyTemplateDto;
        import org.adaptiveplatform.surveys.view.researchCreator.ResearchCreatorModel;

        [Bindable]
        public var model:ResearchCreatorModel;
        [Bindable]
        public var stepModel:SurveySelectionStepModel;
        ]]>
	</mx:Script>
    <components:SearchBar searchPhrase="@{stepModel.surveyTemplateQuery.nameContains}"
                          findClicked="stepModel.findSurveyTemplates()"
                          resetClicked="stepModel.resetSurveyTemplates()"/>

    <mx:DataGrid id="surveyList"
                 dataProvider="{stepModel.surveysList}"
                 width="100%" height="100%" rowHeight="26"
                 draggableColumns="false" sortableColumns="true" selectable="true"
                 itemClick="stepModel.selectedSurvey=event.itemRenderer.data as SurveyTemplateDto">
        <mx:columns>
            <mx:DataGridColumn headerText="{resourceManager.getString('adaptive', 'surveyTitle')}"
                               dataField="name"/>
            <mx:DataGridColumn headerText="{resourceManager.getString('adaptive', 'creationDate')}"/>
        </mx:columns>
    </mx:DataGrid>
</mx:VBox>
